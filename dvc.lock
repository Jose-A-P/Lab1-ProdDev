schema: '2.0'
stages:
  preprocess:
    cmd: python src/preprocess.py
    deps:
    - path: data/dataset_v1.csv
      hash: md5
      md5: fa9fe4cf24f70b69ac65fb33062ddf34
      size: 1915795
    - path: src/preprocess.py
      hash: md5
      md5: d306901e2cfa11ccc732e2a559bfb4a7
      size: 263
    params:
      params.yaml:
        data.input: data/dataset_v2.csv
    outs:
    - path: data/processed.csv
      hash: md5
      md5: 857a62d67fcbddb63289d4cc6014ab1e
      size: 1042345
  train:
    cmd: python src/train.py
    deps:
    - path: data/processed.csv
      hash: md5
      md5: 857a62d67fcbddb63289d4cc6014ab1e
      size: 1042345
    - path: src/train.py
      hash: md5
      md5: 93f4568c8711125623e08dcb302372c6
      size: 1755
    params:
      params.yaml:
        models:
          linear_regression:
          random_forest_regressor:
            n_estimators: 100
            max_depth: 5
            random_state: 42
          gradient_boosting_regressor:
            n_estimators: 100
            learning_rate: 0.1
            max_depth: 5
            random_state: 42
        split:
          test_size: 0.2
          random_state: 42
    outs:
    - path: metrics.json
      hash: md5
      md5: 7b30fdcef8e86f12deecb4b3d85e9bb6
      size: 449
    - path: model.pkl
      hash: md5
      md5: d9ead822d2f15e7651ed51e275e441d9
      size: 454200
  evaluate:
    cmd: python src/evaluate.py
    deps:
    - path: model.pkl
      hash: md5
      md5: d9ead822d2f15e7651ed51e275e441d9
      size: 454200
    - path: src/evaluate.py
      hash: md5
      md5: e0dd748397e7fa87b7e60b12f7817c38
      size: 190
    outs:
    - path: report.csv
      hash: md5
      md5: 8acfc8db42db78e31338e23867e01c3d
      size: 259
